(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{25:function(e,t,c){},28:function(e,t,c){},58:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(4),o=c.n(r),s=(c(25),c(15)),i=c(3),l=c(9);var u={fetchImg:function(e,t){var c="https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("23034123-dfb7a22dd10a0f412f945dcd2","&image_type=photo&orientation=horizontal&per_page=12");return fetch(c).then((function(t){return t.ok?t.json():Promise.reject(new Error("There is no images for ".concat(e)))}))}},j=(c(26),c(1));function b(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(i.a)(c,2),r=a[0],o=a[1];return Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):Object(l.b)("Go clearly!")},children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Try me!"})}),Object(j.jsx)("input",{placeholder:"lets search smth....",className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}c(28);var m=document.querySelector("#modal-root");function f(e){var t=e.src,c=e.alt,a=e.onClose;Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&a()};return Object(r.createPortal)(Object(j.jsx)("div",{onClick:function(e){e.currentTarget===e.target&&a()},className:"Overlay",children:Object(j.jsx)("div",{className:"Modal",children:Object(j.jsx)("img",{src:t,alt:c})})}),m)}function h(e){var t=e.src,c=e.alt,a=e.largeImageURL,r=Object(n.useState)(!1),o=Object(i.a)(r,2),s=o[0],l=o[1],u=function(){l(!s)};return Object(j.jsxs)("li",{className:"ImageGalleryItem",children:[Object(j.jsx)("img",{onClick:u,alt:c,src:t,className:""}),s&&Object(j.jsx)(f,{onClose:u,src:a,alt:c})]})}function d(e){var t=e.images;return Object(j.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(j.jsx)(h,{src:e.webformatURL,alt:e.tags,largeImageURL:e.largeImageURL},e.id)}))})}var O=c(19);function g(e){var t=e.onClick;return Object(j.jsx)("button",{onClick:function(){t(),O.animateScroll.scrollToBottom()},className:"Button",type:"button",children:"Load more"})}var p=c(20),v=c.n(p),x=(c(57),"idle"),S="pending",y="resolved",w="rejected";function N(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(null),o=Object(i.a)(r,2),m=o[0],f=o[1],h=Object(n.useState)(1),O=Object(i.a)(h,2),p=O[0],N=O[1],C=Object(n.useState)("idle"),k=Object(i.a)(C,2),I=k[0],L=k[1],F=Object(n.useState)([]),E=Object(i.a)(F,2),T=E[0],G=E[1];Object(n.useEffect)((function(){if(c){L(S),u.fetchImg(c,p).then((function(e){if(0===e.hits.length)return f(new Error("No search results for ".concat(c))),void L(w);G((function(t){return[].concat(Object(s.a)(T),Object(s.a)(e.hits))})),L(y)})).catch((function(e){f(e),L(w)}))}}),[p,c]);return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(b,{onSubmit:function(e){e!==c&&(a(e),N(1),G([]))}}),Object(j.jsx)(l.a,{autoClose:4e3}),I===x&&Object(j.jsx)("div",{className:"imgGreet",children:"Hello=)"}),Object(j.jsx)(d,{images:T}),I===w&&Object(j.jsxs)("div",{className:"imgGreet",children:[m.message,Object(j.jsx)("img",{src:"https://cdn.pixabay.com/photo/2016/02/19/10/13/pug-1209129_960_720.jpg",alt:""})]}),I===S&&Object(j.jsx)(v.a,{type:"Puff",color:"#3fb566",height:100,width:200,timeout:3e3}),I===y&&Object(j.jsx)(g,{onClick:function(){N((function(e){return e+1}))}})]})}var C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,59)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),r(e),o(e)}))};o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root")),C()}},[[58,1,2]]]);
//# sourceMappingURL=main.7d69b33d.chunk.js.map